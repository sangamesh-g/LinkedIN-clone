{% extends 'base.html' %}

{% block title %}LinkedIn Clone â€” Home{% endblock %}

{% block content %}
<section style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin:24px 0;">
	<div>
		<h2>Welcome to LinkedIn Clone</h2>
		<p class="muted">Find and connect with professionals, share posts, message peers, follow news and jobs.</p>
		<div class="row" style="margin-top:12px;">
			<a class="button" href="/signin"><button>Sign in</button></a>
			<a class="button" href="/main"><button class="ghost">Explore</button></a>
		</div>
	</div>
	<div class="card pad">
		<h3>Top news</h3>
		<ul id="news"></ul>
	</div>
</section>
{% endblock %}

{% block scripts %}
<script>
	async function loadNews() {
		try {
			const r = await fetch('/api/news/news/');
			if (!r.ok) return;
			const data = await r.json();
			const ul = document.getElementById('news');
			ul.innerHTML = '';
			data.slice(0,6).forEach(n => {
				const li = document.createElement('li');
				li.innerHTML = `<a href="${n.url}" target="_blank">${n.title}</a><div class="muted">${n.source}</div>`;
				ul.appendChild(li);
			});
		} catch {}
	}
	loadNews();
</script>
{% endblock %}


